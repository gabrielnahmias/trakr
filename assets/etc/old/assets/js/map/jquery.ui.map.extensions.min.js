/*!
 * jQuery UI Google Map 3.0-rc
 * http://code.google.com/p/jquery-ui-map/
 * Copyright (c) 2010 - 2011 Johan SÃ¤ll Larsson
 * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
 *
 * Depends:
 *      jquery.ui.map.js
 */
(function(a){a.extend(a.ui.gmap.prototype,{getCurrentPosition:function(c,b){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(d){c(d,"OK")},function(d){c(null,d)},b)}else{c(null,"NOT_SUPPORTED")}},watchPosition:function(c,b){if(navigator.geolocation){this.set("watch",navigator.geolocation.watchPosition(function(d){c(d,"OK")},function(d){c(null,d)},b))}else{c(null,"NOT_SUPPORTED")}},clearWatch:function(){if(navigator.geolocation){navigator.geolocation.clearWatch(this.get("watch"))}},autocomplete:function(b,d){var c=this;a(this._unwrap(b)).autocomplete({source:function(f,e){c.search({address:f.term},function(h,g){if(g==="OK"){e(a.map(h,function(i){return{label:i.formatted_address,value:i.formatted_address,position:i.geometry.location}}))}else{if(g==="OVER_QUERY_LIMIT"){alert("Google said it's too much!")}}})},minLength:3,select:function(e,f){c._call(d,f)},open:function(){a(this).removeClass("ui-corner-all").addClass("ui-corner-top")},close:function(){a(this).removeClass("ui-corner-top").addClass("ui-corner-all")}})},placesSearch:function(b,c){this.get("services > PlacesService",new google.maps.places.PlacesService(this.get("map"))).search(b,c)},clearDirections:function(){var b=this.get("services > DirectionsRenderer");if(b){b.setMap(null);b.setPanel(null)}},pagination:function(e){var d=a("<div id='pagination' class='pagination shadow gradient rounded clearfix'><div class='lt btn back-btn'></div><div class='lt display'></div><div class='rt btn fwd-btn'></div></div>");var b=this,c=0,e=e||"title";b.set("p_nav",function(g,f){if(g){c=c+f;d.find(".display").text(b.get("markers")[c][e]);b.get("map").panTo(b.get("markers")[c].getPosition())}});b.get("p_nav")(true,0);d.find(".back-btn").click(function(){b.get("p_nav")((c>0),-1,this)});d.find(".fwd-btn").click(function(){b.get("p_nav")((c<b.get("markers").length-1),1,this)});b.addControl(d,google.maps.ControlPosition.TOP_LEFT)}})}(jQuery));